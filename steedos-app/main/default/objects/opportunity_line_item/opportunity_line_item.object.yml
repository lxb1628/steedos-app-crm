name: opportunity_line_item
label: 业务机会产品
icon: opportunity
enable_audit: true
fields:
  autonumber:
    label: 序号
    type: autonumber
    formula: '{00000}'
    omit: true
    readonly: true
    searchable: true
    is_name: true
  lookup:
    label: 产品
    type: lookup
    reference_to: product
    required: true
  number:
    label: 折扣（%）
    type: number
    inlineHelpText: 产品的百分比折扣。
    hidden: true
  currency:
    label: 价目表价格
    type: currency
    inlineHelpText: 价格手册中的产品价格（包含币种）。只读。
    readonly: false
  date:
    label: 日期
    type: date
    inlineHelpText: 某个业务机会产品的关闭日期。
  text:
    label: 产品代码
    type: text
    readonly: false
  formula:
    label: 总价
    type: formula
    data_type: number
    scale: 2
    formula: 'ROUND(unit_price * quantity,2)'
    inlineHelpText: 业务机会产品所有产品金额的总计。
  master_detail:
    label: 业务机会名
    type: master_detail
    reference_to: opportunity
listviews:
  all:
    label: 全部业务机会产品
    columns:
      - number
      - product_id
      - total_price
      - service_date
    filter_scope: space
permissions:
  user:
    allowCreate: true
    allowDelete: true
    allowEdit: false
    allowRead: true
    modifyAllRecords: false
    viewAllRecords: false
  admin:
    allowCreate: true
    allowDelete: true
    allowEdit: true
    allowRead: true
    modifyAllRecords: true
    viewAllRecords: true
