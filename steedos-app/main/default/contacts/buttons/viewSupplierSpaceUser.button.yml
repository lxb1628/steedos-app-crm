label: 查看供应商用户
'on': record_only_more
name: viewSupplierSpaceUser
todo: "module.exports = { \r\nviewSupplierSpaceUser:function(){\r\n        var record = Creator.odata.query(\"space_users\", {\r\n            $filter: \"(user eq '\".concat(this.record.user, \"')\")\r\n          }, true);\r\n        FlowRouter.go(Creator.getObjectRouterUrl(\"space_users\", record[0]._id));\r\n    },\r\nviewSupplierSpaceUserVisible:function(object_name, record_id, record_permissions){\r\n        if(!Creator.isSpaceAdmin()){\r\n            return false\r\n        }\r\n        var record = Creator.odata.get(\"contacts\", record_id, \"account,user\", \"account($select=is_supplier)\");\r\n        if(record && record.user){\r\n            var spaceUser = Creator.odata.query(\"space_users\", {\r\n                $filter: \"(user eq '\".concat(record.user, \"')\"),\r\n                $select: \"is_supplier\"\r\n              }, true);\r\n            if(spaceUser[0].is_supplier){\r\n                return true;\r\n            }\r\n        }\r\n    }\r\n }"
